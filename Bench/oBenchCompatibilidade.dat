
/*
	Testes Realizados:

•	Deve haver compatibilidade entre os tipos dos dois lados de um comando de atribuição, conforme a seguinte tabela:
								Tipo do lado esquerdo	Tipo do lado direito
								Inteiro	Inteiro ou Caractere
								Real	Inteiro, Real ou Caractere
								Caractere	Inteiro ou Caractere
								Lógico	Lógico

•	Os tipos dos resultados das diversas classes de expressões só podem ser os seguintes:
									Classe da expressão	Tipo
									Aritmética	Inteiro, Real ou Caractere
									Relacional	Lógico
									Lógica	Lógico

•	Os tipos dos operandos admitidos pelos operadores de expressões são os seguintes:
								Operadores	Tipos admitidos dos operandos
								||  &&  !	Lógico
								<  <=  >  >=  	Inteiro, Real ou Caractere
								=  !=	Todos (se um for lógico o outro também deve ser)
								+  -  *  /  ~	Inteiro, Real ou Caractere
								%	Inteiro ou Caractere

 */

globais:
	int varInteiro, exprI;
	real varReal, exprR;
	carac varCarac, exprC;
	logico varLogico, exprL;

funcoes:
vazio Inteiro () {
locais:
	int var;
comandos:
	var := varInteiro;
	var := varCarac;
	var := varReal;


***** Exception<Incompatibilidade>: Obtido: real. Esperado: int ou carac *****
	var := varLogico;


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
}
vazio Real () {
locais:
	real var;
comandos:
	var := varInteiro;
	var := varCarac;
	var := varReal;
	var := varLogico;


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac ou real *****
}
vazio Carac () {
locais:
	carac var;
comandos:
	var := varInteiro;
	var := varCarac;
	var := varReal;


***** Exception<Incompatibilidade>: Obtido: real. Esperado: int ou carac *****
	var := varLogico;


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
}
vazio Logico () {
locais:
	logico var;
comandos:
	var := varInteiro;


***** Exception<Incompatibilidade>: Obtido: int. Esperado: logico *****
	var := varCarac;


***** Exception<Incompatibilidade>: Obtido: carac. Esperado: logico *****
	var := varReal;


***** Exception<Incompatibilidade>: Obtido: real. Esperado: logico *****
	var := varLogico;
}
vazio ExprAritmetica () {
locais:
	int var;
comandos:
	exprI := (1 + 1);
	exprC := ('c' - 'a');
	exprR := (2 / 4);
	exprL := (true + true

***** Exception<Incompatibilidade>: Operando improprio para operador aritmetico *****
);


***** Exception<Incompatibilidade>: Obtido: int. Esperado: logico *****
}
vazio ExprRelacional () {
locais:
	int var;
comandos:
	exprI := (2 = 1);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
	exprC := (2 != 1);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
	exprR := (2 >= 1);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac ou real *****
	exprL := (2 > 1);
}
vazio ExprLogica () {
locais:
	int var;
comandos:
	exprI := (true || false);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
	exprC := (true && true);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac *****
	exprR := (!true);


***** Exception<Incompatibilidade>: Obtido: logico. Esperado: int ou carac ou real *****
	exprL := (!false);
}
vazio OpLogico () {
locais:
	int var;
comandos:
	varLogico := varLogico && varLogico;
	varLogico := varLogico || varLogico;
	varLogico := !varLogico;
	varLogico := varInteiro && varCarac

***** Exception<Incompatibilidade>: Operando improprio para AND *****
;
	varLogico := varInteiro || varCarac

***** Exception<Incompatibilidade>: Operando improprio para OR *****
;
	varLogico := !varInteiro

***** Exception<Incompatibilidade>: Operando improprio para NOT *****
;
}
vazio OpRelacional () {
locais:
	int var;
comandos:
	varLogico := varInteiro > varInteiro;
	varLogico := varReal >= varInteiro;
	varLogico := varInteiro < varCarac;
	varLogico := varLogico <= varCarac

***** Exception<Incompatibilidade>: Operando improprio para operador relacional *****
;
}
vazio OpIgualdade () {
locais:
	int var;
comandos:
	varLogico := varInteiro = varCarac;
	varLogico := varReal != varCarac;
	varLogico := varLogico = varLogico;
	varLogico := varLogico != varInteiro

***** Exception<Incompatibilidade>: Operando improprio para operador relacional *****
;
}
vazio OpAritmetico () {
locais:
	int var;
comandos:
	varInteiro := varInteiro + varCarac;
	varReal := varReal * varCarac;
	varInteiro := varLogico / varLogico

***** Exception<Incompatibilidade>: Operando improprio para operador aritmetico *****
;
	varInteiro := varLogico - varInteiro

***** Exception<Incompatibilidade>: Operando improprio para operador aritmetico *****
;
	varInteiro := ~varInteiro;
	varInteiro := varInteiro % varInteiro;
	varInteiro := varCarac % varCarac;
}
principal {
locais:
	int var;
comandos:
	;
}

var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
var: Nao Inicializada
var: Nao Referenciada
varCarac: Nao Inicializada


   TABELA  DE  SIMBOLOS:

Classe 0:
  (exprR   , IDVAR, real  , 1, 1, escopo: Global);
Classe 1:
  (varInteiro, IDVAR, int   , 1, 1, escopo: Global);
Classe 4:
  (varReal , IDVAR, real  , 1, 1, escopo: Global);
Classe 6:
  (OpIgualdade, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
Classe 7:
  (var     , IDVAR, int   , 0, 0, escopo: Principal);
  (var     , IDVAR, int   , 0, 0, escopo: OpAritmetico);
  (var     , IDVAR, int   , 0, 0, escopo: OpIgualdade);
  (var     , IDVAR, int   , 0, 0, escopo: OpRelacional);
  (var     , IDVAR, int   , 0, 0, escopo: OpLogico);
  (var     , IDVAR, int   , 0, 0, escopo: ExprLogica);
  (var     , IDVAR, int   , 0, 0, escopo: ExprRelacional);
  (ExprRelacional, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
  (var     , IDVAR, int   , 0, 0, escopo: ExprAritmetica);
  (var     , IDVAR, logico, 1, 1, escopo: Logico);
  (Logico  , IDFUNC, vazio , escopo: Global
	Variaveis: logico var
	Parametros: NULL);
  (var     , IDVAR, carac , 1, 1, escopo: Carac);
  (var     , IDVAR, real  , 1, 1, escopo: Real);
  (var     , IDVAR, int   , 1, 1, escopo: Inteiro);
Classe 8:
  (exprC   , IDVAR, carac , 1, 1, escopo: Global);
Classe 10:
  (Principal, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
Classe 13:
  (OpAritmetico, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
  (OpRelacional, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
Classe 14:
  (OpLogico, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
  (Carac   , IDFUNC, vazio , escopo: Global
	Variaveis: carac var
	Parametros: NULL);
  (varLogico, IDVAR, logico, 1, 1, escopo: Global);
  (exprI   , IDVAR, int   , 1, 1, escopo: Global);
Classe 16:
  (ExprAritmetica, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
Classe 17:
  (ExprLogica, IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
  (Inteiro , IDFUNC, vazio , escopo: Global
	Variaveis: int var
	Parametros: NULL);
  (exprL   , IDVAR, logico, 1, 1, escopo: Global);
Classe 18:
  (Global  , IDGLOB, null  , escopo: NULL
	Variaveis: int varInteiro, int exprI, real varReal, real exprR, carac varCarac, carac exprC, logico varLogico, logico exprL
	Funcoes: vazio Inteiro, vazio Real, vazio Carac, vazio Logico, vazio ExprAritmetica, vazio ExprRelacional, vazio ExprLogica, vazio OpLogico, vazio OpRelacional, vazio OpIgualdade, vazio OpAritmetico, vazio Principal);
Classe 20:
  (Real    , IDFUNC, vazio , escopo: Global
	Variaveis: real var
	Parametros: NULL);
Classe 21:
  (varCarac, IDVAR, carac , 0, 1, escopo: Global);
